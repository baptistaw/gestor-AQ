<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anesthesia Consent Manager</title>

    <!-- Tailwind (ya compilado) -->
    <link rel="stylesheet" href="/tailwind.css" />

    <!-- Import‑map ESM -->
    <script type="importmap">
      {
        "imports": {
          "react":             "https://esm.sh/react@18.2.0",
          "react-dom/client":  "https://esm.sh/react-dom@18.2.0/client",
          "react/jsx-runtime": "https://esm.sh/react@18.2.0/jsx-runtime",
          "qrcode.react":      "https://esm.sh/qrcode.react@3.1.0",
          "qrcode":            "https://esm.sh/qrcode@1.5.1?dts",
          "@google/genai":     "https://esm.sh/@google/genai@0.12.0",
          "lucide-react":      "https://esm.sh/lucide-react@0.381.0?bundle",
          "prop-types":        "https://esm.sh/prop-types@15.8.1",
          "process":           "https://esm.sh/process@0.11.10"
        }
      }
    </script>
  </head>

  <body class="bg-slate-50 text-slate-800 antialiased">
    <div id="root"></div>

    <!-- Config global proporcionada por el backend -->
    <script src="/config.js"></script>

    <!-- Punto de entrada único de la SPA -->
    <script type="module" src="/index.tsx"></script>
  </body>william-baptista@william-baptista-17ZB90R-K-AAC7U1:~/gestor-AQ$ npm run dev

> dev
> npm run dev --workspace backend


> anesthesia-consent-backend@1.0.0 dev
> nodemon --watch src --exec "tsx src/index.ts"

[nodemon] 3.1.10
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): src/**/*
[nodemon] watching extensions: js,mjs,cjs,json
[nodemon] starting `tsx src/index.ts`

node:internal/modules/run_main:123
    triggerUncaughtException(
    ^
Error [TransformError]: Transform failed with 1 error:
/home/william-baptista/gestor-AQ/backend/src/index.ts:95:17: ERROR: Expected ";" but found "global"
    at failureErrorWithLog (/home/william-baptista/gestor-AQ/node_modules/esbuild/lib/main.js:1467:15)
    at /home/william-baptista/gestor-AQ/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/home/william-baptista/gestor-AQ/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/home/william-baptista/gestor-AQ/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/home/william-baptista/gestor-AQ/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:518:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:189:23)

Node.js v22.17.0
[nodemon] app crashed - waiting for file changes before starting...

</html>
